---
description: 
globs: *.tsx,*.jsx,*.ts,*.css,src/frontend/src/**/*
alwaysApply: false
---
# EDMå‰ç«¯å¼€å‘è§„åˆ™

## ğŸ¯ å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18 + TypeScript
- **UIåº“**: Ant Design
- **çŠ¶æ€ç®¡ç†**: React Context + Hooks
- **è·¯ç”±**: React Router v6
- **æ„å»ºå·¥å…·**: Vite/Webpack
- **æ ·å¼**: CSS + Less

## ğŸ“ å‰ç«¯å®é™…ç›®å½•ç»“æ„
```
src/frontend/src/
â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶ (.tsx, .jsx)
â”œâ”€â”€ services/          # APIæœåŠ¡å±‚ (.ts)
â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰ (.ts)
â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰React Hooks (.ts)
â”œâ”€â”€ utils/             # å‰ç«¯å·¥å…·å‡½æ•° (.ts)
â”œâ”€â”€ contexts/          # React Context (.tsx)
â”œâ”€â”€ layouts/           # å¸ƒå±€ç»„ä»¶ (.jsx, .tsx)
â”œâ”€â”€ store/             # çŠ¶æ€ç®¡ç† (.ts)
â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶ (.ts)
â””â”€â”€ assets/            # é™æ€èµ„æº
```

## ğŸ”¥ å‰ç«¯çƒ­æ›´æ–°å¼€å‘æµç¨‹ (å¿…é¡»éµå¾ª)

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# æ„å»ºå¼€å‘é•œåƒ
cd src/frontend
docker build -f Dockerfile.dev -t edm-frontend:dev .

# å¯åŠ¨å¼€å‘å®¹å™¨ï¼ˆæ”¯æŒçƒ­æ›´æ–°ï¼‰
docker run -d \
  --name edm-frontend-debug \
  --network edm_edm-debug-network \
  -p 3003:3001 \
  -v "$(pwd)/src/frontend/src:/app/src" \
  -v "$(pwd)/src/frontend/public:/app/public" \
  edm-frontend:dev
```

### ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²
```bash
# ä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
./scripts/deploy-frontend.sh [ç‰ˆæœ¬å·]

# æ‰‹åŠ¨éƒ¨ç½²æµç¨‹
cd src/frontend
docker build -f Dockerfile.prod -t edm-frontend:v1.x --platform linux/amd64 .
docker save edm-frontend:v1.x | gzip > edm-frontend-v1.x.tar.gz
scp edm-frontend-v1.x.tar.gz ubuntu@43.135.38.15:~/
```

### 404é—®é¢˜æ ¹æ²»æ–¹æ¡ˆ (ç”Ÿäº§ç¯å¢ƒå¿…é¡»)
ç”Ÿäº§ç¯å¢ƒDockerfile.prodä¸­å¿…é¡»åŒ…å«æ­£ç¡®çš„nginxé…ç½®ï¼š
```dockerfile
# é…ç½®nginxæ”¯æŒReact SPAè·¯ç”±
RUN echo 'server {' > /etc/nginx/conf.d/default.conf && \
  echo '    listen 80;' >> /etc/nginx/conf.d/default.conf && \
  echo '    server_name localhost;' >> /etc/nginx/conf.d/default.conf && \
  echo '    root /usr/share/nginx/html;' >> /etc/nginx/conf.d/default.conf && \
  echo '    index index.html index.htm;' >> /etc/nginx/conf.d/default.conf && \
  echo '    location / {' >> /etc/nginx/conf.d/default.conf && \
  echo '        try_files $uri $uri/ /index.html;' >> /etc/nginx/conf.d/default.conf && \
  echo '    }' >> /etc/nginx/conf.d/default.conf && \
  echo '}' >> /etc/nginx/conf.d/default.conf
```

## ğŸ› ï¸ å‰ç«¯å¼€å‘è§„èŒƒ
- **ç»„ä»¶å‘½å**: PascalCase (å¦‚: `ContactList.tsx`)
- **æ–‡ä»¶æ‰©å±•å**: 
  - Reactç»„ä»¶: `.tsx` (TypeScript) æˆ– `.jsx` (JavaScript)
  - å·¥å…·ç±»: `.ts` (TypeScript)
  - æ ·å¼: `.css`
- **ç±»å‹å®šä¹‰**: å¿…é¡»ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- **çŠ¶æ€ç®¡ç†**: ä¼˜å…ˆä½¿ç”¨React Hooksï¼Œå¤æ‚çŠ¶æ€ç”¨Context
- **APIè°ƒç”¨**: ç»Ÿä¸€ä½¿ç”¨`services/`ç›®å½•ä¸­çš„APIæœåŠ¡
- **é”™è¯¯å¤„ç†**: ä½¿ç”¨ErrorBoundary + ç»Ÿä¸€é”™è¯¯æç¤º

## ğŸ¨ UI/UXè§„èŒƒ
- **è®¾è®¡ç³»ç»Ÿ**: ä¸¥æ ¼éµå¾ªAnt Designè®¾è®¡è§„èŒƒ
- **å“åº”å¼**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- **ä¸»é¢˜è‰²**: ä¸»è‰²è°ƒ#1890ffï¼ŒæˆåŠŸ#52c41aï¼Œè­¦å‘Š#faad14ï¼Œé”™è¯¯#ff4d4f
- **é—´è·**: ä½¿ç”¨8pxç½‘æ ¼ç³»ç»Ÿ
- **å­—ä½“**: ç³»ç»Ÿå­—ä½“æ ˆï¼Œ14pxåŸºç¡€å­—å·

## ğŸ”§ å¸¸ç”¨ç»„ä»¶æ¨¡å¼
```typescript
// æ ‡å‡†TypeScriptç»„ä»¶ç»“æ„
interface Props {
  // ç±»å‹å®šä¹‰
}

const ComponentName: React.FC<Props> = ({ prop1, prop2 }) => {
  // Hooks
  // äº‹ä»¶å¤„ç†
  // æ¸²æŸ“é€»è¾‘
  return <div>...</div>;
};

export default ComponentName;
```

```javascript
// æ ‡å‡†JavaScriptç»„ä»¶ç»“æ„ (.jsx)
const ComponentName = ({ prop1, prop2 }) => {
  // Hooks
  // äº‹ä»¶å¤„ç†
  // æ¸²æŸ“é€»è¾‘
  return <div>...</div>;
};

export default ComponentName;
```

## ğŸ“‹ å‰ç«¯æ£€æŸ¥æ¸…å•
- [ ] ç»„ä»¶æœ‰æ­£ç¡®çš„ç±»å‹å®šä¹‰ (TypeScript)
- [ ] ä½¿ç”¨Ant Designç»„ä»¶åº“
- [ ] å“åº”å¼è®¾è®¡é€‚é…
- [ ] é”™è¯¯è¾¹ç•Œå¤„ç†
- [ ] APIè°ƒç”¨é”™è¯¯å¤„ç†
- [ ] åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [ ] æ•°æ®éªŒè¯å’Œæ ¼å¼åŒ–
- [ ] å¼€å‘ç¯å¢ƒæ”¯æŒçƒ­æ›´æ–°
- [ ] ç”Ÿäº§ç¯å¢ƒnginxé…ç½®æ­£ç¡®

## ğŸš€ å‰ç«¯å‘½ä»¤
```bash
cd src/frontend
npm run dev             # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build           # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run test            # è¿è¡Œæµ‹è¯•
npm run lint            # ä»£ç æ£€æŸ¥
npm run type-check      # TypeScriptç±»å‹æ£€æŸ¥

# Dockerå¼€å‘ç¯å¢ƒ
docker logs -f edm-frontend-debug    # æŸ¥çœ‹å¼€å‘å®¹å™¨æ—¥å¿—
docker restart edm-frontend-debug    # é‡å¯å¼€å‘å®¹å™¨

# ç”Ÿäº§éƒ¨ç½²
./scripts/deploy-frontend.sh         # å¿«é€Ÿéƒ¨ç½²
curl -I https://tkmail.fun/tags     # éªŒè¯éƒ¨ç½²ç»“æœ
```

## ğŸ“‚ å®é™…æ–‡ä»¶ç¤ºä¾‹
- **é¡µé¢ç»„ä»¶**: `pages/contacts/ContactList.tsx`
- **å¸ƒå±€ç»„ä»¶**: `layouts/AppLayout.jsx`
- **APIæœåŠ¡**: `services/api.ts`
- **ç±»å‹å®šä¹‰**: `types/api.ts`
- **å·¥å…·å‡½æ•°**: `utils/axios.ts`
- **çŠ¶æ€ç®¡ç†**: `store/index.ts`
- **é…ç½®æ–‡ä»¶**: `config/index.ts`
