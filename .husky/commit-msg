#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ“ éªŒè¯æäº¤ä¿¡æ¯æ ¼å¼..."

# è¯»å–æäº¤ä¿¡æ¯
commit_regex='^(feat|fix|docs|style|refactor|perf|test|chore)(\(.+\))?: .{1,50}'

if ! grep -qE "$commit_regex" "$1"; then
  echo "âŒ æäº¤ä¿¡æ¯æ ¼å¼ä¸æ­£ç¡®ï¼"
  echo ""
  echo "æ­£ç¡®æ ¼å¼: <type>(<scope>): <subject>"
  echo ""
  echo "ç±»å‹è¯´æ˜:"
  echo "  feat     - âœ¨ æ–°åŠŸèƒ½"
  echo "  fix      - ğŸ› ä¿®å¤é—®é¢˜"
  echo "  docs     - ğŸ“š æ–‡æ¡£æ›´æ–°"
  echo "  style    - ğŸ’„ ä»£ç æ ¼å¼"
  echo "  refactor - â™»ï¸ é‡æ„ä»£ç "
  echo "  perf     - âš¡ æ€§èƒ½ä¼˜åŒ–"
  echo "  test     - âœ… æµ‹è¯•ç›¸å…³"
  echo "  chore    - ğŸ”§ æ„å»º/å·¥å…·"
  echo ""
  echo "ç¤ºä¾‹:"
  echo "  feat(auth): æ·»åŠ åŒå› å­è®¤è¯åŠŸèƒ½"
  echo "  fix(email): ä¿®å¤æ¨¡æ¿æ¸²æŸ“é—®é¢˜"
  echo "  docs(api): æ›´æ–°APIæ–‡æ¡£"
  echo ""
  exit 1
fi

echo "âœ… æäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®ï¼" 