# EDM系统 - 严格UAT回归测试计划 🎯

**测试日期**: 2025-06-04  
**测试版本**: Bug修复后版本  
**测试标准**: P0+P1双100%通过，无妥协  
**测试环境**: Docker统一环境  

## 🧪 测试方法规范

### ✅ 严格执行要求
1. **手动操作验证**: 每个步骤必须手动执行
2. **前端Console检查**: 每次操作后检查无错误
3. **API响应验证**: 确保所有API调用成功
4. **业务流程端到端**: 完整用户操作路径验证
5. **真实数据验证**: 使用真实业务数据，非模拟数据

### ❌ 禁止的测试方式
- 仅检查UI元素存在性
- 忽略Console错误
- 假设功能可用而不实际操作
- 使用自动化脚本替代手动验证

## 📋 P0级核心功能测试 (要求100%通过)

### **TC001: 用户认证功能**
**优先级**: P0  
**手动验证步骤**:
1. 访问 http://localhost:3001
2. 使用凭据: admin@example.com / admin123456
3. 点击登录按钮
4. 验证页面自动跳转到Dashboard
5. **检查点**: 
   - 页面成功跳转 ✓
   - 右上角显示用户信息 ✓
   - Console无错误 ✓

### **TC002: 富文本编辑器功能** 🔥重点测试
**优先级**: P0  
**手动验证步骤**:
1. 导航到：模板管理 → 创建模板
2. 填写模板名称："UAT测试模板"
3. 填写邮件主题："EDM系统测试邮件"
4. **关键验证**: 富文本编辑器直接可用，无需切换HTML模式
5. 在编辑器中输入文本："这是富文本编辑器测试内容"
6. 测试格式功能：加粗、斜体、颜色
7. 插入占位符：{{name}}、{{email}}
8. 点击保存
9. **检查点**:
   - 编辑器立即加载，无需手动切换 ✓
   - 文本输入正常 ✓
   - 格式功能正常 ✓
   - 占位符插入正常 ✓
   - 保存成功，无报错 ✓
   - Console无错误 ✓

### **TC003: 模板保存和时间显示** 🔥重点测试
**优先级**: P0  
**手动验证步骤**:
1. 继续上一步的模板创建
2. 保存后查看成功提示
3. 点击"返回列表"
4. 在列表中找到刚创建的模板
5. 点击模板名称进入详情页
6. **检查点**:
   - 保存时无报错提示 ✓
   - 创建时间显示正确格式（非Invalid Date）✓
   - 更新时间显示正确格式（非Invalid Date）✓
   - 模板内容正确显示 ✓
   - Console无错误 ✓

### **TC004: 任务创建和模板集关联** 🔥重点测试
**优先级**: P0  
**手动验证步骤**:
1. 导航到：任务管理 → 创建任务
2. 填写任务名称："UAT测试任务"
3. 填写任务描述："回归测试任务"
4. **关键验证**: 使用模板集下拉框能够显示选项
5. 选择一个模板集
6. 设置计划发送时间（点击立即发送按钮测试）
7. 选择收件人类型：基于标签
8. 选择包含标签
9. **关键验证**: 查看计划发送人数是否正确显示
10. 点击创建任务
11. **检查点**:
    - 模板集下拉框有数据显示 ✓
    - 模板集选择正常 ✓
    - 立即发送按钮功能正常 ✓
    - 计划发送人数正确显示 ✓
    - 任务创建成功 ✓
    - Console无错误 ✓

### **TC005: 手动选择联系人功能** 🔥重点测试
**优先级**: P0  
**手动验证步骤**:
1. 在任务创建页面
2. 选择收件人类型：手动选择
3. 在联系人选择框中输入搜索文本（至少2个字符）
4. **关键验证**: 搜索结果显示真实联系人数据
5. 验证显示格式：邮箱加粗，姓名斜体
6. 选择几个联系人
7. **关键验证**: 计划发送人数实时更新
8. **检查点**:
   - 搜索功能正常工作 ✓
   - 显示真实联系人数据（非假数据）✓
   - 邮箱加粗显示，姓名斜体显示 ✓
   - 人数计算准确 ✓
   - Console无错误 ✓

### **TC006: Dashboard数据统计** 🔥重点测试
**优先级**: P0  
**手动验证步骤**:
1. 导航到：仪表盘
2. 等待数据加载完成
3. **关键验证**: 所有统计数字显示为真实数据（非0）
4. 验证四个统计卡片：
   - 联系人总数
   - 标签总数  
   - 邮件模板数
   - 邮件任务数
5. 查看最新联系人列表
6. 点击"查看"按钮测试跳转
7. **检查点**:
   - 所有统计数据显示真实数值 ✓
   - 数据加载无错误 ✓
   - 最新联系人列表显示正确 ✓
   - 时间格式正确显示 ✓
   - 跳转功能正常 ✓
   - Console无错误 ✓

## 📋 P1级高级功能测试 (要求100%通过)

### **TC007: 模板编辑功能**
**优先级**: P1  
**手动验证步骤**:
1. 在模板列表中点击"编辑"按钮
2. 修改模板内容
3. 测试HTML模式切换
4. 保存修改
5. **检查点**:
   - 模板数据正确加载 ✓
   - 编辑功能正常 ✓
   - HTML模式切换正常 ✓
   - 修改保存成功 ✓

### **TC008: 联系人管理功能**
**优先级**: P1  
**手动验证步骤**:
1. 导航到联系人管理
2. 创建新联系人
3. 关联标签
4. 编辑联系人信息
5. 查看联系人详情
6. **检查点**:
   - 联系人CRUD功能正常 ✓
   - 标签关联功能正常 ✓
   - 数据持久化正确 ✓

### **TC009: 标签管理功能**
**优先级**: P1  
**手动验证步骤**:
1. 导航到标签管理
2. 创建新标签
3. 编辑标签
4. 删除标签
5. 查看标签使用情况
6. **检查点**:
   - 标签CRUD功能正常 ✓
   - 颜色选择功能正常 ✓
   - 关联关系正确处理 ✓

### **TC010: 任务管理功能**
**优先级**: P1  
**手动验证步骤**:
1. 查看任务列表
2. 编辑任务
3. 查看任务详情
4. 删除任务
5. **检查点**:
   - 任务状态显示正确 ✓
   - 任务编辑功能正常 ✓
   - 任务删除功能正常 ✓

## 🔍 关键Bug修复验证

### **验证点1: 富文本编辑器加载**
- [  ] 无需切换HTML模式即可直接使用
- [  ] 编辑器初始化无延迟
- [  ] 内容输入响应正常

### **验证点2: 模板保存**
- [  ] 保存成功无报错提示
- [  ] API调用成功
- [  ] 数据正确存储

### **验证点3: 时间显示**
- [  ] 创建时间正确显示
- [  ] 更新时间正确显示
- [  ] 无"Invalid Date"错误

### **验证点4: API路径统一**
- [  ] 模板集API使用正确路径
- [  ] 所有API调用成功
- [  ] 网络请求无错误

### **验证点5: Dashboard统计**
- [  ] 所有数据源正确连接
- [  ] 统计数字准确显示
- [  ] 并发请求无冲突

## 📊 UAT通过标准

### **P0级功能**
- **要求**: 100%通过
- **允许失败**: 0个测试用例
- **当前状态**: 待验证

### **P1级功能**  
- **要求**: 100%通过
- **允许失败**: 0个测试用例
- **当前状态**: 待验证

### **总体评估**
- **系统可用性**: 待验证
- **用户体验**: 待验证
- **生产准备度**: 待验证

## 🚨 测试执行说明

1. **测试顺序**: 严格按照TC001-TC010顺序执行
2. **失败处理**: 任何P0/P1测试失败立即停止，修复后重新开始
3. **数据记录**: 每个检查点都要手动验证并记录
4. **截图证明**: 关键操作需要截图保存
5. **Console检查**: 每次操作后必须检查前端Console

---

**测试执行人**: UAT团队  
**测试状态**: 🔄 准备就绪，等待执行  
**开始时间**: 待定 