# DESIGN-002-原型设计-核心模块_v1.0.md

## 1. 概述

本文档旨在回顾和补充A.MT邮件冷发系统V2.0核心模块（用户认证、联系人管理、标签管理）的原型设计要点。这些设计基于项目需求文档 (REQ-001)、用户故事 (SPEC-001) 和产品需求说明书 (SPEC-002)。由于已有初步实现，本文档侧重于梳理关键页面结构和交互流程，确保与PRD一致性，并为后续代码调整和验收提供依据。

**版本**: 1.0
**状态**: 初稿
**创建日期**: (自动填写当前日期)
**最后更新**: (自动填写当前日期)

## 2. 全局约定（参考PRD）

- **界面风格**: 简洁、专业，符合B端SaaS系统特点。
- **交互**: 直观易用，关键操作有明确反馈。
- **响应式**: 优先保障桌面端体验，移动端适配PRD中未明确要求，暂不作为MVP核心。

## 3. 核心模块页面结构与交互要点

### 3.1 用户认证模块

#### 3.1.1 登录页面 (F13 - 系统管理与安全中的登录相关功能)

- **页面目标**: 用户通过邮箱/用户名和密码登录系统。
- **输入项**:
    - 邮箱/用户名输入框
    - 密码输入框
    - "记住我"复选框 (可选)
- **输出/操作项**:
    - "登录"按钮
    - "忘记密码？"链接 (跳转至密码重置流程，MVP外)
    - "还没有账户？注册"链接 (跳转至注册页面)
    - 错误提示区域 (如"用户名或密码错误")
- **路径跳转**: 登录成功后跳转至系统主仪表盘或用户默认首页。
- **异常处理**: 输入校验（格式、必填），认证失败提示。

#### 3.1.2 注册页面 (F13 - 系统管理与安全中的注册相关功能)

- **页面目标**: 新用户创建账户。
- **输入项**:
    - 用户名输入框
    - 邮箱输入框
    - 密码输入框
    - 确认密码输入框
- **输出/操作项**:
    - "注册"按钮
    - "已有账户？登录"链接 (跳转至登录页面)
    - 服务条款同意复选框 (可选，根据实际业务需求)
    - 错误提示区域 (如"邮箱已被注册"，"两次密码不一致")
- **路径跳转**: 注册成功后可自动登录并跳转至主页，或提示用户去邮箱激活（取决于激活流程设计）。
- **异常处理**: 输入校验，用户已存在校验，密码策略校验。

### 3.2 联系人管理模块 (F01)

#### 3.2.1 联系人列表页面

- **页面目标**: 展示、筛选、管理用户的所有联系人。
- **页面结构**:
    - **顶部操作栏**: "导入联系人"按钮，"新建联系人"按钮 (如果支持单个手动创建)，批量操作按钮 (如"批量打标"、"批量删除")。
    - **左侧/顶部筛选区域**: 
        - 搜索框 (按邮箱、姓名等关键字搜索)
        - 标签筛选器 (选择一个或多个标签进行AND/OR筛选)
        - 其他属性筛选器 (如按来源、导入日期范围等，根据PRD细化)
    - **中部联系人表格**: 
        - 列：选择框、邮箱、姓名/用户名、主要社媒ID (如TikTok)、已关联标签 (摘要显示)、创建日期、操作列 (编辑、删除、查看详情)。
        - 分页控件。
    - **右侧/弹窗联系人详情**: (选中某联系人或点击"查看详情"时显示)
- **输入项**: 筛选条件、搜索关键词、批量操作选择。
- **输出项**: 联系人列表、筛选结果数量统计、操作反馈。
- **路径跳转**: 点击"编辑"或联系人某字段跳转至联系人编辑/详情页。
- **异常处理**: 无数据时的友好提示，操作失败提示。

#### 3.2.2 联系人导入页面 (F01)

- **页面目标**: 用户通过上传文件批量导入联系人。
- **输入项**:
    - 文件上传控件 (支持CSV/Excel)
    - 字段自动/手动映射界面 (预览文件头与系统字段，允许用户调整匹配)
    - 导入选项 (如"冲突时跳过/覆盖"，"为此次导入的联系人打上标签X")
- **输出/操作项**:
    - "开始导入"按钮
    - 导入进度显示
    - 导入结果报告 (成功N条，失败M条，重复X条，附带错误详情下载链接)
- **路径跳转**: 导入完成后可跳转回联系人列表。
- **异常处理**: 文件格式错误，字段映射问题，导入过程中断。

#### 3.2.3 联系人详情/编辑页面 (F01, F11-基础用户画像)

- **页面目标**: 查看和编辑单个联系人的完整信息，包括基础信息、社媒信息、互动历史、标签。
- **页面结构**: (通常为多Tab或多Section布局)
    - **基础信息区域**: 邮箱、姓名、用户名、来源、自定义字段1-5 (均可编辑)。
    - **社媒信息区域**: TikTok ID, Instagram ID, YouTube ID (可编辑)。未来可扩展显示社媒粉丝数、发帖数等 (根据PRD私域管理部分)。
    - **标签管理区域**: 显示已关联标签列表，支持添加新标签、移除已有标签。
    - **互动历史区域**: (MVP阶段可能简化，根据PRD的F11、F12) 显示该联系人的邮件互动简史 (如最近发送、打开、点击)。
- **输入项**: 各可编辑字段的输入。
- **输出/操作项**:
    - "保存"按钮
    - "取消"按钮
    - 操作反馈 (保存成功/失败)
- **异常处理**: 输入校验，保存失败提示。

### 3.3 标签管理模块 (F02)

#### 3.3.1 标签管理页面

- **页面目标**: 用户创建、查看、编辑、删除标签，管理标签层级。
- **页面结构**:
    - **操作栏**: "新建标签"按钮。
    - **标签列表/树形结构区域**: 
        - 显示标签名称、关联联系人数。
        - 支持层级展示 (如果设计了父子标签)。
        - 每行标签有"编辑"、"删除"操作按钮。
    - **右侧/弹窗标签编辑/新建表单**:
        - 标签名称输入框
        - 父标签选择器 (下拉列表，用于层级标签，可选)
        - 标签描述输入框 (可选)
- **输入项**: 新建/编辑标签的名称、父标签、描述。
- **输出项**: 标签列表、操作反馈。
- **异常处理**: 标签名冲突提示，删除有子标签的父标签时的处理逻辑（如提示先删除子标签或一同删除）。

## 4. 未来考虑

- **组件复用**: 在实际开发中，表格、表单、按钮、弹窗等应尽可能设计为可复用组件。
- **状态管理**: 前端应有清晰的状态管理策略（如Redux, Zustand, Context API）来管理人机交互状态和后端数据。
- **用户体验细节**: 加载状态（Loading Spinners）、骨架屏（Skeleton Screens）、空状态提示等细节对提升用户体验至关重要。 